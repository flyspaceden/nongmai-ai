@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans text-on-surface min-h-screen;
    background: radial-gradient(circle at 10% 10%, rgba(14, 165, 165, 0.18), transparent 35%),
      radial-gradient(circle at 90% 5%, rgba(245, 158, 11, 0.14), transparent 40%),
      radial-gradient(circle at 40% 80%, rgba(34, 197, 94, 0.16), transparent 45%),
      linear-gradient(180deg, #f8fafc, #e2e8f0);
  }

  :root {
    --tag-border: #0ea5a5;
    --tag-bg: rgba(14, 165, 165, 0.14);
    --tag-text: #0ea5a5;
    --hero-bg: transparent;
  }

  img {
    @apply block max-w-full rounded-2xl;
  }

  summary::-webkit-details-marker {
    display: none;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply text-on-surface;
  }

  p {
    @apply text-on-muted;
  }
}

@layer components {
  .container {
    width: min(100% - 48px, 1200px);
    margin: 0 auto;
  }

  .section {
    @apply py-24 relative;
  }

  .section-tight {
    @apply py-16;
  }

  .eyebrow {
    @apply uppercase tracking-[0.2em] text-xs text-on-soft;
  }

  .section-title {
    @apply mt-3 text-2xl md:text-4xl font-semibold leading-tight;
  }

  .section-subtitle {
    @apply mt-4 text-lg leading-relaxed text-on-muted;
  }

  .nm-grid {
    @apply grid gap-6;
  }

  .nm-grid-2 {
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .nm-grid-3 {
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .nm-grid-4 {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .card {
    @apply rounded-2xl border border-line bg-surface bg-opacity-90 p-6 shadow-deep backdrop-blur;
  }

  .card strong {
    @apply text-on-surface;
  }

  .card p {
    @apply text-on-muted;
  }

  .tag {
    @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs;
    border-color: var(--tag-border);
    background-color: var(--tag-bg);
    color: var(--tag-text);
  }

  .badge {
    @apply inline-flex items-center gap-2 rounded-full border border-highlight/40 bg-highlight/15 px-3 py-1 text-xs text-highlight;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full px-5 py-3 text-sm font-semibold transition-transform duration-200;
  }

  .btn:hover {
    @apply -translate-y-0.5;
  }

  .btn.primary {
    @apply bg-primary text-on-primary shadow-xl;
  }

  .btn.ghost {
    @apply border border-line bg-surface text-on-surface shadow-sm;
  }

  header {
    @apply sticky top-0 z-20 border-b border-line bg-surface bg-opacity-95 backdrop-blur;
  }

  .navbar {
    @apply flex items-center justify-between py-4;
  }

  .logo {
    @apply flex items-center gap-3 text-lg font-semibold text-on-surface;
  }

  .logo span {
    @apply text-primary;
  }

  .logo-mark {
    @apply h-8 w-8 rounded-full object-contain;
  }

  .nav-links {
    @apply hidden items-center gap-5 lg:flex;
  }

  .nav-item {
    @apply relative text-sm text-on-surface;
  }

  .nav-item > a {
    @apply inline-flex items-center gap-2 px-2 py-2;
  }

  .dropdown {
    @apply absolute left-0 top-full hidden min-w-[220px] flex-col gap-2 rounded-xl border border-line bg-surface p-3 shadow-deep;
  }

  .nav-item:hover .dropdown {
    display: flex;
  }

  .nav-item:focus-within .dropdown {
    display: flex;
  }

  .dropdown a {
    @apply rounded-lg px-2 py-2 text-xs text-on-muted;
  }

  .dropdown a:hover {
    @apply bg-surface-soft text-on-surface;
  }

  .nav-cta {
    @apply hidden items-center gap-3 lg:flex;
  }

  .nav-toggle {
    @apply inline-flex text-on-surface lg:hidden;
  }

  .mobile-menu {
    @apply hidden flex-col gap-4 border-t border-line bg-surface pb-6 pt-4 text-sm text-on-muted lg:hidden;
  }

  .mobile-menu.open {
    @apply flex;
  }

  .hero {
    @apply pt-28 pb-20;
    background: var(--hero-bg);
  }

  .hero-content {
    @apply grid items-center gap-10 lg:grid-cols-2;
  }

  .hero h1 {
    @apply text-3xl md:text-5xl font-semibold leading-tight text-on-surface;
  }

  .hero p {
    @apply mt-5 text-lg leading-relaxed text-on-muted;
  }

  .hero .tag {
    @apply mb-6;
  }

  .hero-actions {
    @apply mt-6 flex flex-wrap gap-3;
  }

  .hero-card {
    @apply rounded-3xl border border-line bg-surface bg-opacity-90 p-4 shadow-deep;
  }

  .metrics {
    @apply mt-8 grid gap-4 sm:grid-cols-3;
  }

  .metric {
    @apply rounded-2xl border border-line bg-surface bg-opacity-90 p-4;
  }

  .metric strong {
    @apply text-xl;
  }

  .metric span {
    @apply text-on-soft;
  }

  .ai-panel {
    @apply rounded-3xl border border-line bg-gradient-to-br from-teal-50/90 via-surface to-sky-50/90 p-7 text-on-surface;
  }

  .ai-panel ul {
    @apply mt-4 grid gap-3 text-on-muted;
  }

  .ai-panel li {
    @apply flex gap-2;
  }

  .ai-panel li::before {
    content: "‚óè";
    color: #0ea5a5;
  }

  .hero-centered .hero-content {
    @apply grid-cols-1 text-center;
  }

  .hero-centered .hero-actions {
    @apply justify-center;
  }

  .hero-media {
    @apply relative grid gap-4;
  }

  .floating-card {
    @apply rounded-2xl border border-line bg-surface bg-opacity-90 p-4 shadow-deep backdrop-blur;
  }

  .hero-splash {
    @apply relative overflow-hidden;
    min-height: 540px;
  }

  .hero-splash .container {
    @apply relative z-10;
  }

  .hero-splash .hero-content {
    align-items: flex-start;
  }

  .hero-splash-bg {
    @apply absolute inset-0;
    background-size: cover;
    background-position: center;
  }

  .hero-splash-overlay {
    @apply absolute inset-0;
    background: linear-gradient(90deg, rgba(248, 250, 252, 0.88) 20%, rgba(248, 250, 252, 0.55) 55%, rgba(248, 250, 252, 0.1) 85%);
  }

  .dashboard {
    @apply rounded-3xl border border-line bg-white/85 p-6 shadow-deep backdrop-blur;
    max-width: 460px;
  }

  .dashboard-header {
    @apply flex items-center justify-between gap-4;
  }

  .dashboard-title {
    @apply text-sm font-semibold text-on-surface;
  }

  .dashboard-tabs {
    @apply flex flex-wrap gap-2 text-xs text-on-soft;
  }

  .dashboard-tab {
    @apply rounded-full border border-line bg-transparent px-3 py-1 transition-colors;
    @apply cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40;
  }

  .dashboard-tab.active {
    border-color: var(--tag-border);
    background: var(--tag-bg);
    color: var(--tag-text);
  }

  .dashboard-grid {
    @apply mt-4 grid gap-3 sm:grid-cols-2;
  }

  .dashboard-card {
    @apply rounded-xl border border-line bg-white/80 p-3 text-xs text-on-muted;
  }

  .dashboard-card strong {
    @apply text-lg text-on-surface;
  }

  .dashboard-chart {
    @apply relative mt-4 h-28 rounded-2xl border border-line bg-gradient-to-r from-teal-50 via-surface to-sky-50;
  }

  .dashboard-chart::before {
    content: "";
    position: absolute;
    inset: 12px;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(14, 165, 165, 0.25), rgba(14, 165, 165, 0.05));
  }

  .dashboard-chart::after {
    content: "";
    position: absolute;
    left: 18%;
    top: 56%;
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: var(--tag-border);
    box-shadow: 0 0 0 6px rgba(14, 165, 165, 0.16);
  }

  .dashboard-chart span {
    @apply absolute bottom-3 left-4 text-xs text-on-soft;
  }

  .dashboard-list {
    @apply mt-4 grid gap-2 text-xs text-on-muted;
  }

  .float-slow {
    animation: float 6s ease-in-out infinite;
  }

  .float-delay {
    animation: float 6s ease-in-out infinite;
    animation-delay: 1.5s;
  }

  .gallery-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .gallery-item {
    @apply relative flex flex-col overflow-hidden rounded-2xl border border-line bg-surface shadow-sm;
  }

  .gallery-media {
    @apply relative;
  }

  .gallery-item img {
    @apply h-48 w-full object-cover;
  }

  .gallery-tag {
    @apply absolute bottom-3 left-3 rounded-full border border-white/60 bg-white/80 px-3 py-1 text-xs text-on-surface;
  }

  .gallery-caption {
    @apply px-4 pb-4 pt-3 text-sm text-on-muted;
  }

  .gallery-caption strong {
    @apply block text-base text-on-surface;
  }

  .zone-split {
    @apply grid gap-8 lg:grid-cols-[1.05fr_0.95fr];
  }

  .zone-list {
    @apply grid gap-3;
  }

  .zone-item {
    @apply flex w-full cursor-pointer items-center gap-4 rounded-2xl border border-line bg-surface p-4 text-left text-sm text-on-muted;
  }

  .zone-item.active {
    border-color: var(--tag-border);
    background: var(--tag-bg);
    color: var(--tag-text);
  }

  .zone-index {
    @apply text-lg font-semibold text-on-surface;
  }

  .zone-item.active .zone-index {
    color: var(--tag-text);
  }

  .cta-panel {
    @apply grid gap-6 rounded-3xl border border-line bg-surface bg-opacity-95 p-8 shadow-deep backdrop-blur lg:grid-cols-2;
  }

  .cta-panel strong {
    @apply text-xl text-on-surface;
  }

  .cta-panel p {
    @apply text-on-muted;
  }

  .plan-map {
    @apply relative rounded-3xl border border-line bg-surface bg-opacity-90 p-6 shadow-deep backdrop-blur;
    min-height: 320px;
  }

  .plan-map::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 35%, rgba(14, 165, 165, 0.18), transparent 55%);
    pointer-events: none;
  }

  .plan-center {
    @apply relative z-10 mx-auto flex h-28 w-28 items-center justify-center rounded-full border border-line bg-white text-center text-sm font-semibold text-on-surface shadow-deep;
  }

  .plan-node {
    @apply absolute z-10 rounded-2xl border border-line bg-white/90 px-3 py-2 text-xs text-on-muted shadow-sm;
  }

  .plan-node strong {
    @apply block text-sm text-on-surface;
  }

  .plan-node.node-1 {
    top: 14%;
    left: 8%;
  }

  .plan-node.node-2 {
    top: 14%;
    right: 10%;
  }

  .plan-node.node-3 {
    bottom: 18%;
    left: 6%;
  }

  .plan-node.node-4 {
    bottom: 18%;
    right: 6%;
  }

  .plan-node.node-5 {
    top: 48%;
    right: 36%;
  }

  @media (max-width: 768px) {
    .plan-map {
      display: grid;
      gap: 12px;
      padding-top: 24px;
    }

    .plan-node {
      position: static;
    }
  }

  .cycle-diagram {
    position: relative;
    width: min(360px, 80vw);
    height: min(360px, 80vw);
    margin: 0 auto;
  }

  .cycle-ring {
    position: absolute;
    inset: 12%;
    border-radius: 999px;
    border: 2px dashed rgba(14, 165, 165, 0.4);
  }

  .cycle-node {
    @apply absolute flex h-24 w-24 items-center justify-center rounded-2xl border border-line bg-white text-center text-xs font-semibold text-on-surface shadow-sm;
  }

  .cycle-node.node-a {
    top: 0;
    left: 50%;
    transform: translate(-50%, 0);
  }

  .cycle-node.node-b {
    top: 32%;
    right: 0;
    transform: translate(0, -50%);
  }

  .cycle-node.node-c {
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 0);
  }

  .cycle-node.node-d {
    top: 32%;
    left: 0;
    transform: translate(0, -50%);
  }

  .matrix-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }

  .matrix-card {
    @apply rounded-2xl border border-line bg-surface p-4 text-sm text-on-muted shadow-sm;
  }

  .age-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .age-card {
    @apply rounded-2xl border border-line bg-surface bg-opacity-90 p-5 shadow-deep;
  }

  .stay-gallery {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }

  .stay-gallery img {
    @apply h-56 w-full object-cover;
  }

  .event-calendar {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .event-season {
    @apply rounded-2xl border border-line bg-surface p-5 shadow-sm;
  }

  .route-track {
    @apply relative grid gap-6 rounded-3xl border border-line bg-surface bg-opacity-90 p-6 shadow-deep;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .route-track::before {
    content: "";
    position: absolute;
    top: 32px;
    left: 8%;
    right: 8%;
    height: 2px;
    background: linear-gradient(90deg, rgba(14, 165, 165, 0.35), rgba(14, 165, 165, 0.08));
  }

  .route-stop {
    @apply relative z-10 pt-6 pl-6 text-sm text-on-muted;
  }

  .route-stop::before {
    content: "";
    position: absolute;
    top: 24px;
    left: 0;
    width: 12px;
    height: 12px;
    border-radius: 999px;
    background: var(--tag-border);
    box-shadow: 0 0 0 6px rgba(14, 165, 165, 0.12);
  }

  .route-stop strong {
    @apply block text-base text-on-surface;
  }

  .logo-wall {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .logo-card {
    @apply flex items-center justify-center rounded-2xl border border-line bg-surface p-5 text-xs text-on-soft;
  }

  .steps-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .step-card {
    @apply rounded-2xl border border-line bg-surface p-5 text-sm text-on-muted shadow-sm;
  }

  .news-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .contact-cards {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .cert-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }

  .cert-card {
    @apply overflow-hidden rounded-2xl border border-line bg-surface p-2 shadow-sm;
  }

  .cert-card button {
    @apply block w-full cursor-zoom-in bg-transparent p-0;
  }

  .cert-card img {
    @apply w-full rounded-xl bg-surface-soft object-contain;
    height: auto;
  }

  .cert-caption {
    @apply px-3 py-3 text-xs text-on-muted;
  }

  .cert-caption strong {
    @apply block text-sm text-on-surface;
  }

  .lightbox {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-6;
  }

  .lightbox-inner {
    @apply relative max-h-[90vh] w-full max-w-5xl;
  }

  .lightbox-inner img {
    @apply max-h-[90vh] w-full rounded-2xl bg-white p-4 object-contain;
  }

  .lightbox-close {
    @apply absolute -top-3 -right-3 flex h-9 w-9 items-center justify-center rounded-full bg-white text-lg text-on-surface shadow;
  }

  .form-input {
    @apply rounded-xl border border-line bg-surface p-3 text-sm text-on-surface placeholder:text-on-soft focus:outline-none focus:ring-2 focus:ring-primary/30;
  }

  .form-textarea {
    @apply min-h-[120px] rounded-xl border border-line bg-surface p-3 text-sm text-on-surface placeholder:text-on-soft focus:outline-none focus:ring-2 focus:ring-primary/30;
  }

  .timeline {
    @apply grid gap-5;
  }

  .timeline-item {
    @apply border-l-2 border-primary/40 pl-5;
  }

  .footer-grid {
    @apply grid gap-6 text-sm text-on-muted sm:grid-cols-2 lg:grid-cols-4;
  }

  .footer-grid a {
    @apply block text-on-muted transition-colors;
  }

  .footer-grid a:hover {
    @apply text-on-surface;
  }

  .footer-cta {
    @apply mb-10 grid items-center gap-6 rounded-3xl border border-line bg-surface bg-opacity-95 p-8 shadow-deep backdrop-blur lg:grid-cols-[1.2fr_0.8fr];
  }

  .footer-divider {
    @apply my-8 border-t border-line;
  }

  .footer-meta {
    @apply grid gap-6 text-xs text-on-soft sm:grid-cols-2 lg:grid-cols-3;
  }

  .footer-lang a {
    @apply text-on-muted underline-offset-4 hover:underline;
  }

  footer {
    @apply border-t border-line py-12 bg-dark text-on-dark;
  }

  footer strong {
    @apply text-on-dark;
  }

  footer p {
    @apply text-on-dark;
  }

  .footer-grid {
    @apply text-on-dark;
  }

  .footer-grid a {
    @apply text-on-dark/80;
  }

  .footer-grid a:hover {
    @apply text-on-dark;
  }

  .footer-cta {
    @apply bg-white/10 border-white/20 text-on-dark;
  }

  .footer-meta {
    @apply text-on-dark/70;
  }

  .footer-lang a {
    @apply text-on-dark/80 hover:text-on-dark;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .reveal {
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .reveal-visible {
    opacity: 1;
    transform: translateY(0);
  }
}
